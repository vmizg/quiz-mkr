<div class="flex flex-col gap-2 pb-12 justify-stretch w-full max-w-4xl">
  <sl-card>
    <div class="flex flex-row justify-between">
      <div class="flex flex-col">
        <span class="text-2xl font-semibold">{{ isExisting ? title || '~' : 'Q U I Z C R T' }}</span>
        <span class="text-l">{{ isExisting ? 'Edit' : 'Create a new' }} quiz</span>
      </div>
      <div class="flex flex-row items-center gap-4">
        <span *ngIf="isExisting">Q U I Z C R T</span>
        <sl-avatar style="line-height: 56px">
          <sl-icon slot="icon" name="asterisk" class="text-xl"></sl-icon>
        </sl-avatar>
      </div>
    </div>
  </sl-card>
  <sl-card>
    <div slot="header" class="font-semibold">Details</div>
    <div class="flex flex-col gap-4">
      <sl-input autofocus label="Title" (sl-input)="handleTitleInput($event)" [value]="title" required></sl-input>
      <sl-textarea label="Description" (sl-input)="handleDescInput($event)" [value]="desc"> </sl-textarea>
    </div>
  </sl-card>
  <sl-card>
    <div slot="header" class="font-semibold">Tags</div>
    <div class="grid gap-4">
      <div class="flex flex-row justify-between gap-2">
        <sl-input
          class="mr-auto w-full"
          placeholder="Add tags separated by comma"
          (sl-input)="handleTagInput($event)"
          [value]="tag"
        ></sl-input>
        <sl-button (click)="handleAddTags()" type="primary" outline>Add tag(-s)</sl-button>
        <sl-button (click)="handleClearTags()" type="danger" outline>Clear all</sl-button>
      </div>
      <div class="flex flex-row flex-wrap gap-2">
        <sl-tag *ngFor="let _tag of tags" size="large" type="primary" removable (sl-remove)="handleRemoveTag(_tag)"
          >{{ _tag }}
        </sl-tag>
      </div>
    </div>
  </sl-card>
  <sl-card>
    <div class="flex flex-row justify-between">
      <sl-button class="w-full" (click)="handleSubmit()" type="primary">
        <sl-spinner *ngIf="submitting" slot="prefix"></sl-spinner>
        {{ submitting ? (isExisting ? 'Saving changes...' : 'Submitting...') : isExisting ? 'Save changes' : 'Submit' }}
      </sl-button>
    </div>
  </sl-card>
</div>
